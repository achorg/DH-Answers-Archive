<?
/*
Plugin Name: bb Topic Icons
Plugin URI: http://devt.caffeinatedbliss.com/bbpress/topic-icons
Description: Adds configurable icons next to topics based on their status
Author: Paul Hawke
Author URI: http://paul.caffeinatedbliss.com/
Version: 0.6
*/

/****************************************************************************
 *
 * Configure the following constants to fine-tune the CSS classes that are
 * generated, the icon filenames that are used, and the text used in the
 * legend (if you have one displayed).  Note: filenames are likely to be
 * taken away in a future version and replaced with the concept of "icon sets"
 * whose filenames are fixed, so dont get used to editing the filenames,
 * as this will break in future versions.
 *
 ****************************************************************************/

// css class for the unsorted list used in the legend display
define( LEGEND_CLASS, 'topic_icon_legend' );

// busy threshold - a topic with more posts than this is counted as "busy"
// for purposes of picking an icon.
define( BUSY_THRESHOLD, 15 );

// width of the images, in pixels
define( ICON_WIDTH, '20' );

// height of the images, in pixels
define( ICON_HEIGHT, '20' );

// the URL base for where to find the default icon set.
define( ICON_SET_URL_BASE, BB_PLUGIN_URL.'bb-topic-icons/icon-sets/' );

/****************************************************************************
 *
 * Shouldnt be much need to edit anything beyond this point - configuration
 * is all done via the constants (above) and through and admin area page in
 * bbPress at runtime.
 *
 ****************************************************************************/

require( 'bb-topic-icons-api.php' );
require( 'bb-topic-icons-admin.php' );
require( 'interface.status-interpreter.php' );
require( 'interface.status-renderer.php' );
require( 'class.default-status-interpreter.php' );
require( 'class.default-status-renderer.php' );

function topic_icons_legend() {
	$icon_set_name = topic_icons_get_active_icon_set();
	$icon_set_url = ICON_SET_URL_BASE . $icon_set_name;
	$statuses = get_active_status_interpreter()->getAllStatuses();
	$renderer = get_active_status_renderer();
	
	echo '<ul id="'.LEGEND_CLASS.'">';
	for ($i=0; $i < count($statuses); $i++) {
		$image = $renderer->renderStatus($statuses[$i]);
		$tooltip = $renderer->renderStatusTooltip($statuses[$i]);
		$exists = file_exists(dirname(__FILE__).'/icon-sets/'.$icon_set_name.'/'.$image);

		if (isset($image) && strlen($image) > 0 &&
			isset($tooltip) && strlen($tooltip) > 0 && $exists) {
			echo '<li><img src="'.$icon_set_url.'/'.$image.
				'" width="'.ICON_WIDTH.'" height="'.ICON_HEIGHT.
				'" align="absmiddle">&nbsp;'.$tooltip.'</li>';
		}
	}
	echo '</ul>';
}

function topic_icons_css() {
	echo "\n<style type=\"text/css\"><!--\n";
	require( 'bb-topic-icons.css' );
	echo "\n--></style>";
}

function topic_icons_label( $label ) {
	global $topic;
	
	if (bb_is_front() || bb_is_forum() || bb_is_view() || bb_is_tag()) {		
		$icon_set_name = topic_icons_get_active_icon_set();
		$icon_set_url = ICON_SET_URL_BASE . $icon_set_name;

		$status = get_active_status_interpreter()->getStatus(bb_get_location(), $topic);
		$renderer = get_active_status_renderer();
		$image = $renderer->renderStatus($status);
		$tooltip = $renderer->renderStatusTooltip($status);
		$exists = file_exists(dirname(__FILE__).'/icon-sets/'.$icon_set_name.'/'.$image);

		if (!$exists) {
			return sprintf(__('<div class="topic-icon-image"><a href="%s"><img src="%s" width="%s" height="%s" alt="%s" border="0"></a></div> %s'), 
				get_topic_link($topic->topic_id), ICON_SET_URL_BASE.'/empty.png', ICON_WIDTH, ICON_HEIGHT, $tooltip, $label);
		} else if (strlen($tooltip) > 0) {		
			return sprintf(__('<div class="topic-icon-image"><a href="%s"><img src="%s" width="%s" height="%s" alt="%s" border="0"><span>%s</span></a></div> %s'), 
				get_topic_link($topic->topic_id), $icon_set_url.'/'.$image, ICON_WIDTH, ICON_HEIGHT, $tooltip, $tooltip, $label);
		} else {
			return sprintf(__('<div class="topic-icon-image"><a href="%s"><img src="%s" width="%s" height="%s" alt="%s" border="0"></a></div> %s'), 
				get_topic_link($topic->topic_id), $icon_set_url.'/'.$image, ICON_WIDTH, ICON_HEIGHT, $tooltip, $label);
		}
	}
	
	return $label;
}

function topic_icons_init( ) {
	remove_filter('bb_topic_labels', 'bb_closed_label', 10);
	remove_filter('bb_topic_labels', 'bb_sticky_label', 20);

	add_filter('bb_topic_labels', 'topic_icons_label', 11);

	add_action('bb_head', 'topic_icons_css');

	add_action('bb_admin_menu_generator', 'topic_icons_admin_page_add');
	add_action('bb_admin-header.php', 'topic_icons_admin_page_process');
	
	topic_icons_register_status_interpreter('default', new DefaultStatusInterpreter(BUSY_THRESHOLD));
	topic_icons_register_status_renderer('default', new DefaultStatusRenderer());
}

topic_icons_init();

?>
<?xml version="1.0" encoding="UTF-8"?>
<!-- generator="bbPress/1.0.2" -->
<rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom">
	<channel>
		<title>Digital Humanities Questions &#38; Answers &#187; Tag: archives - Recent Posts</title>
		<link>http://digitalhumanities.org/answers/tags/archives</link>
		<description>Digital Humanities Questions &amp; Answers &#187; Tag: archives - Recent Posts</description>
		<language>en-US</language>
		<pubDate>Sun, 24 Mar 2019 17:08:49 +0000</pubDate>
		<generator>http://bbpress.org/?v=1.0.2</generator>
		<textInput>
			<title><![CDATA[Search]]></title>
			<description><![CDATA[Search all topics from these forums.]]></description>
			<name>q</name>
			<link>http://digitalhumanities.org/answers/search.php</link>
		</textInput>
		<atom:link href="http://digitalhumanities.org/answers/rss/tags/archives" rel="self" type="application/rss+xml" />

		<item>
			 
				<title>stustu12 on "Harvest Historical Twitter Data"</title>
						<link>http://digitalhumanities.org/answers/topic/harvest-historical-twitter-data#post-2414</link>
			<pubDate>Sat, 24 Jun 2017 23:16:17 +0000</pubDate>
			<dc:creator>stustu12</dc:creator>
			<guid isPermaLink="false">2414@http://digitalhumanities.org/answers/</guid>
			<description>&#60;p&#62;&#60;em&#62;Replying to @&#60;a href='http://digitalhumanities.org/answers/profile/justinlittman'&#62;justinlittman&#60;/a&#62;'s &#60;a href=&#34;http://digitalhumanities.org/answers/topic/harvest-historical-twitter-data#post-2412&#34;&#62;post&#60;/a&#62;:&#60;/em&#62;&#60;/p&#62;
&#60;p&#62;Thanks Justin. DiscoverText (&#60;a href=&#34;https://discovertext.com&#34; rel=&#34;nofollow&#34;&#62;https://discovertext.com&#60;/a&#62;) is an option for day-forward Twitter via the Search API or using the Gnip PowerTrack. For historical Twitter, people need to use Sifter (&#60;a href=&#34;https://sifter.texifter.com&#34; rel=&#34;nofollow&#34;&#62;https://sifter.texifter.com&#60;/a&#62;) to generate up to three free estimates per day. If there is an estimate you like, there is a price to access the data using DiscoverText.
&#60;/p&#62;</description>
		</item>
		<item>
			 
				<title>justinlittman on "Harvest Historical Twitter Data"</title>
						<link>http://digitalhumanities.org/answers/topic/harvest-historical-twitter-data#post-2412</link>
			<pubDate>Mon, 05 Jun 2017 13:19:26 +0000</pubDate>
			<dc:creator>justinlittman</dc:creator>
			<guid isPermaLink="false">2412@http://digitalhumanities.org/answers/</guid>
			<description>&#60;p&#62;&#60;em&#62;Replying to @&#60;a href='http://digitalhumanities.org/answers/profile/kdonovan11'&#62;kdonovan11&#60;/a&#62;'s &#60;a href=&#34;http://digitalhumanities.org/answers/topic/harvest-historical-twitter-data#post-2410&#34;&#62;post&#60;/a&#62;:&#60;/em&#62;&#60;/p&#62;
&#60;p&#62;The Twitter API supports retrieving the last 3,200 tweets from a user's timeline. A commandline tool like Twarc (&#60;a href=&#34;https://github.com/docnow/twarc&#34; rel=&#34;nofollow&#34;&#62;https://github.com/docnow/twarc&#60;/a&#62;) can be used to get the user's timeline from the API. If you're looking for web interface, Social Feed Manager (&#60;a href=&#34;https://gwu-libraries.github.io/sfm-ui/)&#34; rel=&#34;nofollow&#34;&#62;https://gwu-libraries.github.io/sfm-ui/)&#60;/a&#62;, which I work on, is another option.&#60;/p&#62;
&#60;p&#62;Options for getting historical tweets for a hashtag are much more limited. The Search API only indexes the last 7-9 days. The search on Twitter's website indexes further back in time, but the nature of what is indexed (and not indexed) is unknown.&#60;/p&#62;
&#60;p&#62;Data service providers such as DiscoverText (&#60;a href=&#34;https://discovertext.com/&#34; rel=&#34;nofollow&#34;&#62;https://discovertext.com/&#60;/a&#62;) allow for greater access to historical data, but obviously at a cost.
&#60;/p&#62;</description>
		</item>
		<item>
			 
				<title>kdonovan11 on "Harvest Historical Twitter Data"</title>
						<link>http://digitalhumanities.org/answers/topic/harvest-historical-twitter-data#post-2411</link>
			<pubDate>Fri, 02 Jun 2017 08:00:33 +0000</pubDate>
			<dc:creator>kdonovan11</dc:creator>
			<guid isPermaLink="false">2411@http://digitalhumanities.org/answers/</guid>
			<description>&#60;p&#62;&#60;em&#62;Replying to @&#60;a href='http://digitalhumanities.org/answers/profile/kdonovan11'&#62;kdonovan11&#60;/a&#62;'s &#60;a href=&#34;http://digitalhumanities.org/answers/topic/harvest-historical-twitter-data#post-2410&#34;&#62;post&#60;/a&#62;:&#60;/em&#62;&#60;/p&#62;
&#60;p&#62;I see that it is possible to use Twitter's Advanced Search to search for a particular account's tweets during a given time period; however, that requires scrolling through it all on their site. What would be best is the ability to export them (links, images, and all).
&#60;/p&#62;</description>
		</item>
		<item>
			 
				<title>kdonovan11 on "Harvest Historical Twitter Data"</title>
						<link>http://digitalhumanities.org/answers/topic/harvest-historical-twitter-data#post-2410</link>
			<pubDate>Thu, 01 Jun 2017 19:25:33 +0000</pubDate>
			<dc:creator>kdonovan11</dc:creator>
			<guid isPermaLink="false">2410@http://digitalhumanities.org/answers/</guid>
			<description>&#60;p&#62;I would like to capture tweets from last year which centered on a particular social movement in Kenya. Many of them were sent or retweeted by @ConsumersKenya, so simply getting an archive of their tweets within a certain timeframe would be quite helpful. Being able to get those who used relevant hashtags during that period would also be fruitful.&#60;/p&#62;
&#60;p&#62;There seem to be plenty of services to archive ongoing tweets, but is there a good way to get historical tweets for certain dates?
&#60;/p&#62;</description>
		</item>
		<item>
			 
				<title>thomasgpadilla on "Where do you go for data?"</title>
						<link>http://digitalhumanities.org/answers/topic/where-do-you-go-for-data#post-2257</link>
			<pubDate>Thu, 13 Nov 2014 14:33:38 +0000</pubDate>
			<dc:creator>thomasgpadilla</dc:creator>
			<guid isPermaLink="false">2257@http://digitalhumanities.org/answers/</guid>
			<description>&#60;p&#62;Where do you go for data to support your DH work aside from LAMs (library, archive, museum) specific repositories?
&#60;/p&#62;</description>
		</item>
		<item>
			 
				<title>jlmcdonald@gmail.com on "Have you used MongoDB for DH project?"</title>
						<link>http://digitalhumanities.org/answers/topic/have-you-used-mongodb-for-dh-project#post-1851</link>
			<pubDate>Sat, 05 Jan 2013 18:49:03 +0000</pubDate>
			<dc:creator>jlmcdonald@gmail.com</dc:creator>
			<guid isPermaLink="false">1851@http://digitalhumanities.org/answers/</guid>
			<description>&#60;p&#62;I think MongoDB has a lot to offer DH projects -- it basically incorporates some of the best features of a document-oriented database and a relational database all in one. For so much of the data often worked with in DH projects, that are sometimes squished and squeezed so much to fit a relational model that never quite works, a schemaless approach to indexing and storing data like Mongo has works very well. I especially see value for those projects that don't need a full-blown structured repository like FEDORA, but that need more than flat files or relational DBs can do.&#60;/p&#62;
&#60;p&#62;Having said that, the biggest thing to consider is that you say using MySQL works very well already for you. If you can't tell that there is something missing, not-quite-right, or not efficient enough with your current setup, the transition to Mongo may not be worth the effort in the long run. Mongo is pretty straightforward to set up, but it does approach data differently and doesn't use SQL at all, so when you say you'd be rewriting the backend, you'd really be rewriting it! You have to evaluate your data itself to know if the effort is worth it. Is your data tabular, or document-based? Are you mostly dealing with numbers and simple structured data (with some relationships), or heavily semantic data with complex metadata?&#60;/p&#62;
&#60;p&#62;Perhaps another path to consider, if you decide to rewrite your back end, is to completely decouple it from your front end. Create a thin layer that is nothing but a RESTful API -- the api talks to the DB and only spits out structured JSON on the other end. This would also likely require some tweaking of your front end, but it will A) make it so you can then very easily write multiple other front ends (mobile, TV, etc) without a hitch, and B) 3 years from now, if you decide to change out the DB layer again, it's much easier to then create a new API generator that will offer the same data structures than it is to create an all new backend interface. There are lots of starting point solutions for quickly generating RESTful APIs whether your DB is MySQL, Mongo, or something else.
&#60;/p&#62;</description>
		</item>
		<item>
			 
				<title>boybot16@gmail.com on "Have you used MongoDB for DH project?"</title>
						<link>http://digitalhumanities.org/answers/topic/have-you-used-mongodb-for-dh-project#post-1850</link>
			<pubDate>Sat, 05 Jan 2013 15:19:42 +0000</pubDate>
			<dc:creator>boybot16@gmail.com</dc:creator>
			<guid isPermaLink="false">1850@http://digitalhumanities.org/answers/</guid>
			<description>&#60;p&#62;We have a DH project that's currently uses MySQL for the database, and it works very well.&#60;/p&#62;
&#60;p&#62;There has been much recent talk about NoSQL databases, particularly MongoDB, promising flexibility and scalability. We're considering re-writing the backend. Is anyone in the DH community seriously using MongoDB?&#60;/p&#62;
&#60;p&#62;If you have used MongoDB for a DH project, what has been your experience with it? Biggest joy? Gotchas to look out for? Is conversion worth it for libraries and archives open source projects?
&#60;/p&#62;</description>
		</item>
		<item>
			 
				<title>Kevin Hawkins on "TEI sample collections needed"</title>
						<link>http://digitalhumanities.org/answers/topic/tei-sample-collections-needed#post-1660</link>
			<pubDate>Wed, 23 May 2012 00:34:27 +0000</pubDate>
			<dc:creator>Kevin Hawkins</dc:creator>
			<guid isPermaLink="false">1660@http://digitalhumanities.org/answers/</guid>
			<description>&#60;p&#62;I recommend &#60;a href=&#34;http://wiki.tei-c.org/index.php/Samples_of_TEI_texts&#34; rel=&#34;nofollow&#34;&#62;http://wiki.tei-c.org/index.php/Samples_of_TEI_texts&#60;/a&#62; .
&#60;/p&#62;</description>
		</item>
		<item>
			 
				<title>Kevin Hawkins on "TEI sample collections needed"</title>
						<link>http://digitalhumanities.org/answers/topic/tei-sample-collections-needed#post-1659</link>
			<pubDate>Wed, 23 May 2012 00:27:13 +0000</pubDate>
			<dc:creator>Kevin Hawkins</dc:creator>
			<guid isPermaLink="false">1659@http://digitalhumanities.org/answers/</guid>
			<description>&#60;p&#62;I recommend &#60;a href=&#34;http://wiki.tei-c.org/index.php/Samples_of_TEI_texts&#34; rel=&#34;nofollow&#34;&#62;http://wiki.tei-c.org/index.php/Samples_of_TEI_texts&#60;/a&#62; .
&#60;/p&#62;</description>
		</item>
		<item>
			 
				<title>Arno Bosse on "TEI sample collections needed"</title>
						<link>http://digitalhumanities.org/answers/topic/tei-sample-collections-needed#post-1658</link>
			<pubDate>Wed, 23 May 2012 00:01:11 +0000</pubDate>
			<dc:creator>Arno Bosse</dc:creator>
			<guid isPermaLink="false">1658@http://digitalhumanities.org/answers/</guid>
			<description>&#60;p&#62;&#60;em&#62;Replying to @&#60;a href='http://digitalhumanities.org/answers/profile/tanyaclement'&#62;tanyaclement&#60;/a&#62;'s &#60;a href=&#34;http://digitalhumanities.org/answers/topic/tei-sample-collections-needed#post-1656&#34;&#62;post&#60;/a&#62;:&#60;/em&#62;&#60;/p&#62;
&#60;p&#62;There's a fairly massive collection of German literary and broader cultural texts which can be accessed from the &#60;a href=&#34;http://www.textgrid.de/en/digitale-bibliothek.html&#34;&#62;TextGrid Digital Library&#60;/a&#62;. Another good place to look is the &#60;a href=&#34;http://ota.ahds.ac.uk/catalogue/index.html&#34;&#62;Oxford Text Archive&#60;/a&#62;.  This link from &#60;a href=&#34;http://tei.oucs.ox.ac.uk/Projects/TEItoePub/&#34;&#62;digital.humanities@oxford&#60;/a&#62; highlights some more recent conversions.
&#60;/p&#62;</description>
		</item>
		<item>
			 
				<title>Christopher Thomson on "TEI sample collections needed"</title>
						<link>http://digitalhumanities.org/answers/topic/tei-sample-collections-needed#post-1657</link>
			<pubDate>Tue, 22 May 2012 23:27:03 +0000</pubDate>
			<dc:creator>Christopher Thomson</dc:creator>
			<guid isPermaLink="false">1657@http://digitalhumanities.org/answers/</guid>
			<description>&#60;p&#62;&#60;a href=&#34;http://www.nzetc.org&#34; rel=&#34;nofollow&#34;&#62;http://www.nzetc.org&#60;/a&#62; has a large collection of New Zealand and Pacific texts, including poetry, history, biography, autobiograpjy, periodicals, and lots more.  Out of copyright works are generally available on a creative commons licence and the TEI file is available for download as well as epub and other formats in some cases. You'll find lots of great collections here that demonstrate a fairly large scale digital publishing use of TEI (though you might find some examples of more specialised uses in there as well). &#60;/p&#62;
&#60;p&#62;&#60;em&#62;Replying to @&#60;a href='http://digitalhumanities.org/answers/profile/tanyaclement'&#62;tanyaclement&#60;/a&#62;'s &#60;a href=&#34;http://digitalhumanities.org/answers/topic/tei-sample-collections-needed#post-1656&#34;&#62;post&#60;/a&#62;:&#60;/em&#62;
&#60;/p&#62;</description>
		</item>
		<item>
			 
				<title>tanyaclement on "TEI sample collections needed"</title>
						<link>http://digitalhumanities.org/answers/topic/tei-sample-collections-needed#post-1656</link>
			<pubDate>Tue, 22 May 2012 16:59:53 +0000</pubDate>
			<dc:creator>tanyaclement</dc:creator>
			<guid isPermaLink="false">1656@http://digitalhumanities.org/answers/</guid>
			<description>&#60;p&#62;We'd like to point to freely available, well formatted TEI texts online (poetry, prose). Where is the best URL to send people? TEI By Example doesn't have whole texts. Projects Using TEI (&#60;a href=&#34;http://www.tei-c.org/Activities/Projects/&#34; rel=&#34;nofollow&#34;&#62;http://www.tei-c.org/Activities/Projects/&#60;/a&#62;) is somewhat difficult to peruse, can have dead links, and doesn't indicate if the texts are available or not. &#60;/p&#62;
&#60;p&#62;Any suggestions?
&#60;/p&#62;</description>
		</item>
		<item>
			 
				<title>krista.harper@gmail.com on "Share your (digital) research workflow!"</title>
						<link>http://digitalhumanities.org/answers/topic/share-your-digital-research-workflow#post-1473</link>
			<pubDate>Wed, 07 Dec 2011 15:28:18 +0000</pubDate>
			<dc:creator>krista.harper@gmail.com</dc:creator>
			<guid isPermaLink="false">1473@http://digitalhumanities.org/answers/</guid>
			<description>&#60;p&#62;The qualitative text analysis program, MAXQDA, allows you to code and annotate pdf, doc, txt, and rtf files--so it's possible later to search and retrieve across photos, website content, interview transcriptions, academic articles, etc.  There's also a new web-based software called Dedoose that works in a similar way--definitely a tool that could be used to organize digital humanities and multimedia social sciences projects.
&#60;/p&#62;</description>
		</item>
		<item>
			 
				<title>Miriam Posner on "Share your (digital) research workflow!"</title>
						<link>http://digitalhumanities.org/answers/topic/share-your-digital-research-workflow#post-1464</link>
			<pubDate>Mon, 28 Nov 2011 21:48:02 +0000</pubDate>
			<dc:creator>Miriam Posner</dc:creator>
			<guid isPermaLink="false">1464@http://digitalhumanities.org/answers/</guid>
			<description>&#60;p&#62;Thanks, everyone! In case anyone's interested, &#60;a href=&#34;http://miriamposner.com/blog/?p=982&#34;&#62;here's&#60;/a&#62; a blog post detailing what I ended up presenting at the workshop.
&#60;/p&#62;</description>
		</item>
		<item>
			 
				<title>Wally Grotophorst on "Share your (digital) research workflow!"</title>
						<link>http://digitalhumanities.org/answers/topic/share-your-digital-research-workflow#post-1373</link>
			<pubDate>Thu, 01 Sep 2011 14:29:03 +0000</pubDate>
			<dc:creator>Wally Grotophorst</dc:creator>
			<guid isPermaLink="false">1373@http://digitalhumanities.org/answers/</guid>
			<description>&#60;p&#62;I'll mention two pieces of software and give you a link to blog posts I've found that explain their utility in this context:&#60;/p&#62;
&#60;p&#62;Scrivener - a great research/writing tool for Mac (and now Windows).  Even compiles into Epub or Kindle (.mobi) if desired.&#60;/p&#62;
&#60;p&#62;&#60;a href=&#34;http://www.organizingcreativity.com/2009/08/scrivener-a-perfect-program-for-dissertation-writing/&#34; rel=&#34;nofollow&#34;&#62;http://www.organizingcreativity.com/2009/08/scrivener-a-perfect-program-for-dissertation-writing/&#60;/a&#62;&#60;br /&#62;
&#60;a href=&#34;http://www.tameri.com/wordpress/2010/06/28/why-i-use-scrivener/&#34; rel=&#34;nofollow&#34;&#62;http://www.tameri.com/wordpress/2010/06/28/why-i-use-scrivener/&#60;/a&#62;&#60;/p&#62;
&#60;p&#62;DevonThink Pro - for storage/retrieval of research materials&#60;/p&#62;
&#60;p&#62;&#60;a href=&#34;http://idlethink.wordpress.com/2011/06/24/on-devonthink-and-history-research-i/&#34; rel=&#34;nofollow&#34;&#62;http://idlethink.wordpress.com/2011/06/24/on-devonthink-and-history-research-i/&#60;/a&#62;
&#60;/p&#62;</description>
		</item>

	</channel>
</rss>
